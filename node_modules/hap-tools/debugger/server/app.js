"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _koa=require("koa"),_koa2=_interopRequireDefault(_koa),_routers=require("./routers"),_routers2=_interopRequireDefault(_routers),_utils=require("../lib/utils"),app=new _koa2.default;app.context.mountedRouters=[],_routers2.default.forEach(function(e){app.context.mountedRouters.push(e),app.use(e.default.applyRouter(app).routes())}),app.on("error",function(e,r){_utils.colorconsole.error("### App Server ### server error:\n "+JSON.stringify(e));var t="出错了!\nHttp error code: "+e.status+", error message: "+e.message;r&&(r.body=t)}),exports.default=app;