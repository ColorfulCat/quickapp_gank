!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";function t(t,e,o,n){Object.defineProperty(t,e,{value:o,enumerable:!!n,writable:!0,configurable:!0})}function e(t){return"[object String]"===Object.prototype.toString.call(t)}function o(t){return"function"==typeof t}function n(t){if(t=(t||"").toString(),t.match(j))return t;if(t.match(V))return"#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3];var e,o,n,a,i=R.exec(t);return i&&(e=parseInt(i[1]),o=parseInt(i[2]),n=parseInt(i[3]),e>=0&&e<=255&&o>=0&&o<=255&&n>=0&&n<=255)?"rgb("+[e,o,n].join(",")+")":(i=F.exec(t),i&&(e=parseInt(i[1]),o=parseInt(i[2]),n=parseInt(i[3]),a=parseFloat(i[4]),e>=0&&e<=255&&o>=0&&o<=255&&n>=0&&n<=255&&a>=0&&a<=1)?"rgba("+[e,o,n,a].join(",")+")":"transparent"===t?"rgba(0,0,0,0)":"#FFFFFF")}function a(t){return H.call(t)===P}function i(t,e,o){var n=E(e);Object.keys(e).forEach(function(r){var s=e[r];n?t.add(s.name,s.value):!o&&a(s)?i(t,s,o,r):t.add(r,s)})}function r(t){var e=Object.create(null);return function(o){return e[o]||(e[o]=t(o))}}function s(t,e){return e?e.toUpperCase():""}function c(t,e){var o,n=typeof t;if(e&&G[e]===c&&"string"===n&&t.endsWith("px"))o=+t.replace("px","");else{if(void 0!==e||isNaN(t))return t;o=+t}return o/75+"rem"}function l(t){if(!t)return"";var e=JSON.parse(t),o=Object.keys(e);if(o.length>0){var n,a=o[0];return n=G[a]?G[a](e[a],a):e[a],a+"("+n+")"}}function d(t,e){for(var o in e){var n=e[o];t[o]="object"==typeof n?Object.assign(t[o]||{},n):n}}function h(t){if(t=t||location.search,"?"===t[0]&&(t=t.substr(1)),""!==t){var e={};return t.split("&").forEach(function(t){var o=t.split("=");e[decodeURIComponent(o[0])]=void 0!==o[1]?decodeURIComponent(o[1]):null}),e}}function p(t){if((t=""+t)&&!(t.indexOf("rgb")<0)){if("#"===t.charAt(0))return t;var e=/(.*?)rgba?\((\d+),\s*(\d+),\s*(\d+).*\)/i.exec(t),o=parseInt(e[2],10).toString(16),n=parseInt(e[3],10).toString(16),a=parseInt(e[4],10).toString(16);return"#"+((1===o.length?"0"+o:o)+(1===n.length?"0"+n:n)+(1===a.length?"0"+a:a))}}function u(t){return e(t)?JSON.parse(t):t}function f(t){t.name=t.name||t.uri;var e=global.getAppConfig(global.appImpl.getAppId()).manifest.router,o=e.pages[t.name],n="/"+t.name+"/"+o.component+".html";return t.params&&(n+="?"+J(t.params)),""+location.origin+n}function m(t,e){var o={};for(var n in t){var a=t[n];if(-1!==n.indexOf(":")){var i=n.split(":"),r='[ref-id="'+e+'"]['+i[1]+"]",s=U(i[0])+": "+a+" !important";o[r]=o[r]||[],o[r].push(s),delete t[n]}}Object.keys(o).forEach(function(t){var e=o[t];document.styleSheets[1].insertRule(t+" { "+e.join("; ")+" }",document.styleSheets[1].cssRules.length)})}function g(t){if(t.animationName){v("@keyframes "+t.animationName,JSON.parse(t.animationKeyframes).map(function(t){var e=t.time;return delete t.time,e+"% { "+Object.keys(t).map(function(e){var o=C(t[e],e);return U(e)+": "+o+";"}).join("\n")+" }"}))}else""===t.animationName&&(t.animationName="none");delete t.animationKeyframes}function y(t,e,o){var n='[ref-id="'+t+'"]'+e;"string"==typeof o&&(o=[o]),v(n,o)}function v(t,e){for(var o=global.document.styleSheets[1].cssRules,n=o.length,a=0;a<n.length;a++){var i=o[a];i.selectorText!==t&&"@keyframes "+i.name!==t||document.styleSheets[1].deleteRule(a);break}if(e.length>0&&!/:\s*$/.test(e[0])){var r;r=0===t.indexOf("@keyframes")?t+" { \n  "+e.join("\n  ")+" \n}":t+" { \n  "+e.join(";\n  ")+" \n}",document.styleSheets[1].insertRule(r,document.styleSheets[1].cssRules.length)}}function b(t,e){var o={};return Object.keys(e).forEach(function(n){var a=e[n];"object"==typeof a&&Object.keys(a).forEach(function(e){var i=a[e];i!==(t[n]?t[n][e]:void 0)&&(o[n]=o[n]||[],o[n].push({key:e,old:t[n][e],new:i}))})}),o}function I(t,e){for(var o=t;o&&o!==global.document&&!o.matches(e);)o=o.parentNode;return o}function _(t){return-1===[!1,"false","",0,null,void 0].indexOf(t)}function k(t){return-1===[!1,null,void 0].indexOf(t)}function D(t,e){return-1===["",null,void 0].indexOf(t)?-1===[!1,"false",0].indexOf(t):e}function N(t,e){for(var o=new Array(t),n=0;n<t;n++)o[n]=e(o[n],n,o);return o}function O(t){var e=t.getBoundingClientRect(),o=global.innerWidth,n=global.innerHeight;return!(e.top+e.height<0||e.bottom>n||e.left+e.width<0||e.right>o)}function w(t){if(t.getAttribute){"refresh"===t.getAttribute("comp-name")&&t.scrollHeight!==t.clientHeight&&(t.style.height=global.getComputedStyle(t).height)}}function C(t,e,o){var n;switch(e){case"backgroundImage":o.style.backgroundSize="100% 100%",n="url("+t+")";break;default:n=G[e]?G[e](t,e):c(t,e)}return n}function S(t,e){switch(t){case"text":return"div";case"span":case"a":return t;case"image":case"progress":case"video":return"div";case"web":return"iframe";case"div":case"stack":case"swiper":case"refresh":return"div";case"list":return"ul";case"list-item":return"li";case"tabs":case"tab-bar":case"tab-content":case"richtext":return"div";case"input":case"slider":case"picker":case"switch":return"div";case"textarea":case"label":return t;default:throw new Error("Unknown component name: "+t)}}function x(t,e,o){var n=t.getAttribute("comp-name"),a=t.getAttribute("ref-id"),i=global.appImpl.refImpl.getInst(a);e.style=e.style||{},e.attr=e.attr||{},m(e.style,a),g(e.style,a),i?i.update(t,e,o):(i=new Oe[n](t,e,o),i.create(),i.init(n,t,e,o)),i.applyVnodeDataAttr(e,t),i.applyVnodeDataEvent(e)}function A(t){return!!be[t]}function T(t){for(var e=[],o=arguments.length-1;o-- >0;)e[o]=arguments[o+1];return be[t].apply(be,e)}var L,E=Array.isArray||function(t){return t instanceof Array},j=/^#[0-9a-fA-F]{6}$/,V=/^#[0-9a-fA-F]{3}$/,R=/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/gi,F=/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d*\.?\d+)\s*\)$/gi,H=Object.prototype.toString,P="[object Object]",B=encodeURIComponent,J=function(t,e){var n=[];return n.add=function(t,e){o(e)&&(e=e()),null==e&&(e=""),this.push(B(t)+"="+B(e))},i(n,t,e),n.join("&").replace(/%20/g,"+")};"undefined"!=typeof Set&&Set.toString().match(/native code/)?L=Set:(L=function(){this.set=Object.create(null)},L.prototype.has=function(t){return void 0!==this.set[t]},L.prototype.add=function(t){null==t||this.set[t]||(this.set[t]=1)},L.prototype.clear=function(){this.set=Object.create(null)});var W=/-(\w)/g,M=r(function(t){return t.replace(W,s)}),z=/([a-z\d])([A-Z])/g,U=r(function(t){return t.replace(z,"$1-$2").toLowerCase()}),Y=Array.prototype,q=Object.create(Y);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var o=Y[e];t(q,e,function(){for(var t=arguments,n=arguments.length,a=new Array(n);n--;)a[n]=t[n];var i,r=o.apply(this,a),s=this.__ob__;switch(e){case"push":case"unshift":i=a;break;case"splice":i=a.slice(2)}return i&&s.observeArray(i),s.dep.notify(),r})}),t(Y,"$set",function(t,e){return t>=this.length&&(this.length=t+1),this.splice(t,1,e)[0]}),t(Y,"$remove",function(t){this.length&&("number"!=typeof t&&(t=this.indexOf(t)),t>-1&&this.splice(t,1))});var X,G={width:c,height:c,padding:c,paddingLeft:c,paddingRight:c,paddingTop:c,paddingBottom:c,margin:c,marginLeft:c,marginRight:c,marginTop:c,marginBottom:c,borderWidth:c,borderLeftWidth:c,borderTopWidth:c,borderRightWidth:c,borderBottomWidth:c,borderRadius:c,borderBottomLeftRadius:c,borderBottomRightRadius:c,borderTopLeftRadius:c,borderTopRightRadius:c,flexBasis:c,top:c,bottom:c,left:c,right:c,fontSize:c,lineHeight:c,strokeWidth:c,transform:l,translateX:c},$={name:"app",getInfo:function(){var t=global.getAppConfig(global.appImpl.appId),e=t.manifest;return{content:{name:e.name,versionName:e.versionName,versionCode:e.versionCode,logLevel:e.config&&e.config.logLevel,source:void 0}}}},Z={name:"router",push:function(t){this._router(t,!0)},replace:function(t){this._router(t,!1)},back:function(){global.history.back()},clear:function(){console.warn("WARN: router.clear()在H5端不支持！")},_router:function(t,e){var o=!1,n=this._getRouter(),a=n.pages;if(/^http[s]?:\/\//.test(t.uri)){var i=t.uri,r=t.params?i+"?"+J(t.params):i;e?global.location.assign(r):global.location.replace(r)}else if("/"===t.uri[0])for(var s in a){var c=a[s];if(c.path===t.uri){o=!0;var l="/"+s+"/"+c.component+".html",d=t.params?l+"?"+J(t.params):l;e?global.location.assign(d):global.location.replace(d)}}else if(a[t.uri]){o=!0;var h=t.uri,p=a[h],u="/"+h+"/"+p.component+".html",f=t.params?u+"?"+J(t.params):u;e?global.location.assign(f):global.location.replace(f)}else/^(tel|sms|mailto):.*/.test(t.uri)&&(o=!0,console.warn("WARN: router.push()请求调起native服务："+t.uri));if(!o)throw new Error("路由错误，请确认路由地址正确："+t.uri)},_getRouter:function(){var t=global.getAppConfig(global.appImpl.appId),e=t.manifest,o=e.router;return!o.init&&Object.keys(o.pages).forEach(function(t){void 0===o.pages[t].path&&(o.pages[t].path="/"+t)}),o.init=!0,o}},Q={name:"model",getBoundingRect:function(t){var e=global.appImpl.refImpl.getNode(t.ref);if(!e)return{content:{}};var o=e.getBoundingClientRect();return{content:{width:o.width,height:o.height,top:o.top,bottom:o.bottom,left:o.left,right:o.right}}},getComputedAttr:function(t){var e=global.appImpl.refImpl.getInst(t.ref);return e?{content:e.getVNodeData()}:{content:{}}},getComputedStyle:function(t){var e=global.appImpl.refImpl.getNode(t.ref);if(!e)return{content:{}};var o=global.getComputedStyle(e),n={};return["width","height","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","fontSize","color","backgroundColor","fontWeight","fontStyle","textAlign","textDecoration","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","borderStyle"].forEach(function(t){n[t]=o[t],-1!==["color","backgroundColor","borderColor"].indexOf(t)&&(n[t]=p(o[t]),n[t]&&(n[t]=n[t].toUpperCase()))}),n.innerText=e.innerText,{content:n}},getComponent:function(t){var e=global.appImpl.refImpl.getInst(t.ref);return e?{content:Object.assign({type:e.compName,ref:e.refId},e.getVNodeData())}:{content:{}}}},K={mockSucc:function(t,e){global.setTimeout(function(){global.processInvokeCallback({callback:t,data:{code:0,content:e}})},1e3)},mockFail:function(t,e){global.setTimeout(function(){global.processInvokeCallback({callback:t,data:e})},1e3)},mockSubscribe:function(t,e){return global.setInterval(function(){global.processInvokeCallback({callback:t,data:{code:0,content:e()}})},1e3)},mockUnsubscribe:function(t){t&&global.clearInterval(t)},setTimeout:function(t,e){return global.setTimeout(function(){global.processInvokeCallback({callback:t,data:{code:0,content:e}})},1e3)},clearTimeout:function(t){t&&global.clearTimeout(t)}};X=Object.assign({name:"share",share:function(t,e){console.info("[INFO] "+this.name+".share: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{metered:!1,type:"wifi"})}},K);var tt,et=X;tt=Object.assign({name:"prompt",showToast:function(t,e){console.info("[INFO] "+this.name+".showToast: "+JSON.stringify(t))},showDialog:function(t,e){console.info("[INFO] "+this.name+".showDialog: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{index:0})},showContextMenu:function(t,e){console.info("[INFO] "+this.name+".showContextMenu: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{index:0})}},K);var ot,nt=tt,at={name:"webview",loadUrl:function(t,e){Z.push({uri:t.url})}};ot=Object.assign({name:"notification",show:function(t){console.info("[INFO] "+this.name+".contentTitle: "+JSON.stringify(t)+"; mock success after 1 seconds"),Z.push(t.clickAction)}},K);var it,rt=ot,st={name:"vibrator",vibrate:function(){console.info("[INFO] "+this.name+".vibrate()")}},ct={name:"fetch",fetch:function(t,e){if(t.method=t.method||"GET","GET"===t.method){var o=""+J(t.data||"");t.url+=(-1===t.url.indexOf("?")?"?":"&")+o}else t.data&&(t.body=new global.FormData,t.body.append("json",JSON.stringify(t.data)),t.headers=t.headers||{},t.headers["Content-Type"]="application/json");if(t.mock)return void global.processInvokeCallback({callback:e,data:{code:0,content:{code:200,data:t.mock}}});global.fetch(t.url,Object.assign({mode:"cors"},t)).then(function(t){t.text().then(function(o){global.processInvokeCallback({callback:e,data:{code:t.ok?0:500,content:{code:t.ok?200:500,data:o}}})})}).catch(function(t){global.processInvokeCallback({callback:e,data:{code:500,content:{code:500,info:t.message}}})})}},lt={name:"storage",get:function(t,e){if(t.key){var o=global.localStorage.getItem(t.key)||t.default;global.processInvokeCallback({callback:e,data:{code:0,content:o}})}else console.info("WARN: API[storage.get(options)].showToast: Key is undefined"),global.processInvokeCallback({callback:e,data:{code:500,content:{}}})},set:function(t,e){t.key?(global.localStorage.setItem(t.key,t.value),global.processInvokeCallback({callback:e,data:{code:0,content:{}}})):global.processInvokeCallback({callback:e,data:{code:500,content:{}}})},clear:function(t,e){global.localStorage.clear(),global.processInvokeCallback({callback:e,data:{code:0,content:{}}})}},dt={name:"file",save:function(t,e){console.info("[INFO] "+this.name+".save: "+JSON.stringify(t)+"; mock success after 1 seconds"),global.setTimeout(function(){var t=Date.now();global.processInvokeCallback({callback:e,data:{code:0,content:{savedFilePath:""+t,filePath:"internal://files/filestorage/"+t}}})},1e3)},list:function(t,e){console.info("[INFO] "+this.name+".list: "+JSON.stringify(t)+"; mock success after 1 seconds"),global.setTimeout(function(){var t=Date.now();global.processInvokeCallback({callback:e,data:{code:0,content:{fileList:[{filePath:"internal://files/filestorage/"+t,createTime:t,size:0}]}}})},1e3)},get:function(t,e){console.info("[INFO] "+this.name+".get: "+JSON.stringify(t)+"; mock success after 1 seconds"),global.setTimeout(function(){var t=Date.now();global.processInvokeCallback({callback:e,data:{code:0,content:{filePath:"internal://files/filestorage/"+t,createTime:t,size:0}}})},1e3)},remove:function(t,e){console.info("[INFO] "+this.name+".remove: "+JSON.stringify(t)+"; mock success after 1 seconds"),global.setTimeout(function(){global.processInvokeCallback({callback:e,data:{code:0,content:void 0}})},1e3)}},ht=Object.assign({name:"barcode",scan:function(t,e){console.info("[INFO] "+this.name+".barcode: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{result:"barcode_result_value"})}},K),pt={name:"sensor",subscribeAccelerometer:function(t,e){console.info("[INFO] "+this.name+".subscribeAccelerometer: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.accelerometerHandler=global.setInterval(function(){global.processInvokeCallback({callback:e,data:{code:0,content:{x:-Math.random(),y:10*Math.random(),z:10*Math.random()}}})},1e3)},unsubscribeAccelerometer:function(t){console.info("[INFO] "+this.name+".unsubscribeAccelerometer: "+JSON.stringify(t)),this.accelerometerHandler&&global.clearInterval(this.accelerometerHandler)},subscribeCompass:function(t,e){console.info("[INFO] "+this.name+".subscribeCompass: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.commpassHandler=global.setInterval(function(){global.processInvokeCallback({callback:e,data:{code:0,content:{direction:10*-Math.random()}}})},1e3)},unsubscribeCompass:function(t){console.info("[INFO] "+this.name+".unsubscribeCompass: "+JSON.stringify(t)),this.commpassHandler&&global.clearInterval(this.commpassHandler)}},ut={name:"clipboard",set:function(t,e){console.info("[INFO] "+this.name+".set: "+JSON.stringify(t)+"; mock success after 1 seconds"),global.setTimeout(function(){global.processInvokeCallback({callback:e,data:{code:0,content:void 0}})},1e3)},get:function(t,e){console.info("[INFO] "+this.name+".get: "+JSON.stringify(t)+"; mock success after 1 seconds"),global.setTimeout(function(){global.processInvokeCallback({callback:e,data:{code:0,content:{text:"mock_clipboard_text"}}})},1e3)}};it=Object.assign({name:"network",getType:function(t,e){console.info("[INFO] "+this.name+".getType: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{metered:!1,type:"wifi"})},subscribe:function(t,e){console.info("[INFO] "+this.name+".subscribe: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.accelerometerHandler=this.mockSubscribe(e,function(){return{metered:!1,type:["2g","3g","4g","wifi","none"][Math.floor(10*Math.random()%5)]}})},unsubscribe:function(t){console.info("[INFO] "+this.name+".unsubscribe: "+JSON.stringify(t)),this.mockUnsubscribe(this.accelerometerHandler)}},K);var ft,mt=it;ft=Object.assign({name:"device",getInfo:function(t,e){console.info("[INFO] "+this.name+".getInfo: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{brand:"Xiaomi",language:"zh",manufacturer:"Xiaomi",model:"Redmi 3S",osType:"android",osVersionCode:23,osVersionName:"6.0.1",platformVersionCode:101,platformVersionName:"1.1",product:"land",region:"CN",screenHeight:1280,screenWidth:720})},getId:function(t,e){console.info("[INFO] "+this.name+".getInfo: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{device:"863657038510908",mac:"02:00:00:00:00:00",user:"75ff81652146a1ba"})}},K);var gt,yt=ft;gt=Object.assign({name:"media",takePhoto:function(t,e){console.info("[INFO] "+this.name+".takePhoto: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{uri:"internal://cache/photo-147747720.jpg"})},takeVideo:function(t,e){console.info("[INFO] "+this.name+".takeVideo: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{uri:"internal://cache/video2095314099.mp4"})},pickImage:function(t,e){console.info("[INFO] "+this.name+".pickImage: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{uri:"file:///storage/emulated/0/DCIM/Camera/IMG_20170419_100222.jpg"})},pickVideo:function(t,e){console.info("[INFO] "+this.name+".pickVideo: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{uri:"file:///storage/emulated/0/DCIM/Camera/IMG_20170419_100222.mp4"})}},K);var vt,bt=gt,It={name:"geolocation",getLocation:function(t,e){console.info("[INFO] "+this.name+".getLocation: "+JSON.stringify(t)+"; mock success after 1 seconds"),global.setTimeout(function(){global.processInvokeCallback({callback:e,data:{code:0,content:{latitude:40.043842,longitude:116.321287}}})},1e3)},subscribe:function(t,e){console.info("[INFO] "+this.name+".subscribe: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.geoHandler=global.setInterval(function(){global.processInvokeCallback({callback:e,data:{code:0,content:{latitude:40+Math.random(),longitude:116+Math.random()}}})},1e3)},unsubscribe:function(t,e){console.info("[INFO] "+this.name+".unsubscribe: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.geoHandler&&global.clearInterval(this.geoHandler)}};vt=Object.assign({name:"push",subscribe:function(t,e){console.info("[INFO] "+this.name+".subscribe: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.subscribeHandler=this.setTimeout(e,{regId:"SBkfseeFbytqrAcZ4A3dSjNSFwxoQYbNUutbGQieIY8="+Math.random()})},unsubscribe:function(t,e){console.info("[INFO] "+this.name+".unsubscribe: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.clearTimeout(this.subscribeHandler)},on:function(t,e){console.info("[INFO] "+this.name+".on: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.onHandler=this.mockSubscribe(e,function(){return{messageId:Math.ceil(1e6*Math.random())+1e3,data:"Hello!",extra:"New Message"}})},off:function(){console.info("[INFO] "+this.name+".off: mock success after 1 seconds"),this.mockUnsubscribe(this.onHandler)}},K);var _t,kt=vt;_t=Object.assign({name:"pay",pay:function(t,e){console.info("[INFO] "+this.name+".pay: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{code:"0",message:"支付成功",result:"支付成功"})}},K);var Dt,Nt=_t;Dt=Object.assign({name:"wxpay",getType:function(t,e){return console.info("[INFO] "+this.name+".getType: "+JSON.stringify(t)+"; mock success and set trade_type to MWEB"),{content:"MWEB"}},pay:function(t,e){console.info("[INFO] "+this.name+".pay: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{code:"0"})}},K);var Ot,wt=Dt;Ot=Object.assign({name:"alipay",pay:function(t,e){console.info("[INFO] "+this.name+".pay: "+JSON.stringify(t)+"; mock success after 1 seconds"),this.mockSucc(e,{memo:"mock success",result:"{'alipay_trade_app_pay_response':{'code':'10000','msg':'Success','app_id':'2014072300007148','out_trade_no':'081622560194853','trade_no':'2016081621001004400236957647','total_amount':'0.01','seller_id':'2088702849871851','charset':'utf-8','timestamp':'2016-10-11 17:43:36' },'sign':'NGfStJf3i3ooWBuCDIQSumOpaGBcQz+aoAqyGh3W6EqA/gmyPYwLJ2REFijY9XPTApI9YglZyMw+ZMhd3kb0mh4RAXMrb6mekX4Zu8Nf6geOwIa9kLOnw0IMCjxi4abDIfXhxrXyj********','sign_type':'RSA2' }",resultStatus:"9000"})}},K);var Ct=Ot;global.history.push=function(t){global.location.assign(f(t))},global.history.replace=function(t){global.location.replace(f(t))},global.history.clear=function(){console.warn("WARN: history.clear()在H5端不支持！")};var St={},xt={},At="system.";xt[At+$.name]=$,xt[At+Z.name]=Z,xt[At+Q.name]=Q,xt[At+et.name]=et,xt[At+nt.name]=nt,xt[At+at.name]=at,xt[At+rt.name]=rt,xt[At+st.name]=st,xt[At+ct.name]=ct,xt[At+lt.name]=lt,xt[At+dt.name]=dt,xt[At+ht.name]=ht,xt[At+pt.name]=pt,xt[At+ut.name]=ut,xt[At+It.name]=It,xt[At+mt.name]=mt,xt[At+yt.name]=yt,xt[At+bt.name]=bt,xt["service."+kt.name]=kt,xt["service."+Nt.name]=Nt,xt["service."+wt.name]=wt,xt["service."+Ct.name]=Ct,[{name:"service.push",methods:[{name:"on",mode:2},{name:"off",mode:0},{name:"unsubscribe",mode:1},{name:"subscribe",mode:1}]},{name:"system.device",methods:[{name:"getId",mode:1},{name:"getInfo",mode:1}]},{name:"system.fetch",methods:[{name:"fetch",mode:1}]},{name:"system.barcode",methods:[{name:"scan",mode:1}]},{name:"system.sensor",methods:[{name:"unsubscribeCompass",mode:0},{name:"unsubscribeAccelerometer",mode:0},{name:"subscribeCompass",mode:2},{name:"subscribeAccelerometer",mode:2}]},{name:"system.file",methods:[{name:"get",mode:1},{name:"list",mode:1},{name:"remove",mode:1},{name:"save",mode:1}]},{name:"system.geolocation",methods:[{name:"config",mode:0},{name:"getLocation",mode:1},{name:"unsubscribe",mode:0},{name:"subscribe",mode:2}]},{name:"system.media",methods:[{name:"takeVideo",mode:1},{name:"pickVideo",mode:1},{name:"pickImage",mode:1},{name:"takePhoto",mode:1}]},{name:"system.clipboard",methods:[{name:"get",mode:1},{name:"set",mode:1}]},{name:"service.pay",methods:[{name:"pay",mode:1}]},{name:"service.alipay",methods:[{name:"pay",mode:1},{name:"getType",mode:0},{name:"getVersion",mode:1}]},{name:"system.share",methods:[{name:"share",mode:1}]},{name:"system.network",methods:[{name:"getType",mode:1},{name:"unsubscribe",mode:0},{name:"subscribe",mode:2}]},{name:"service.wxpay",methods:[{name:"pay",mode:1},{name:"getType",mode:0}]},{name:"system.vibrator",methods:[{name:"vibrate",mode:0}]},{name:"system.storage",methods:[{name:"get",mode:1},{name:"clear",mode:1},{name:"set",mode:1}]},{name:"system.prompt",methods:[{name:"showDialog",mode:1},{name:"showToast",mode:0},{name:"showContextMenu",mode:1}]},{name:"system.notification",methods:[{name:"show",mode:0}]},{name:"system.webview",methods:[{name:"loadUrl",mode:0}]}].forEach(function(t){St[t.name]=t});var Tt,Lt=0,Et=function(){this.appId=null,this.pageId=null};Et.prototype.nextId=function(){return++Lt},Et.prototype.init=function(){global.Env={platform:"h5",osVersion:null,osVersionInt:null,appVersionName:null,appVersionCode:null,appName:null,logLevel:"debug",density:null,densityDpi:null,deviceWidth:global.screen.width,deviceHeight:global.screen.height,logHash:{na:!1,"h5.callNative":{off:!0},"h5.components":{off:!0}}},global.registerComponents([{type:"a",methods:[]},{type:"div",methods:[]},{type:"list",methods:["scrollTo"]},{type:"list-item"},{type:"tabs",methods:[]},{type:"tab-bar",methods:[]},{type:"tab-content",methods:[]},{type:"swiper",methods:["swipeTo"]},{type:"input",methods:["focus"]},{type:"textarea",methods:["focus"]},{type:"picker",methods:["show"]},{type:"web",methods:["reload","forward","back","canForward","canBack"]}]),this._registerModules(),this.appId=this.nextId(),global.createApplication(this.appId,global.createAppHandler),this.pageId=this.nextId(),global.createPage(this.pageId,this.appId,global.createPageHandler,h(location.search))},Et.prototype.getAppId=function(){return this.appId},Et.prototype.getPageId=function(t){return this.pageId},Et.prototype._getManifest=function(){return this.getAppId()?global.getAppConfig(this.getAppId()).manifest:global.manifest},Et.prototype._registerModules=function(){var t=[];this._getManifest().features.forEach(function(e){St[e.name]&&t.push(St[e.name])}),global.registerModules(t,"feature"),global.registerModules([{name:"system.app",methods:[{name:"getInfo",mode:0}]},{name:"system.router",methods:[{name:"back",mode:0},{name:"push",mode:0},{name:"replace",mode:0},{name:"clear",mode:0}]},{name:"system.model",methods:[{name:"getBoundingRect",mode:0},{name:"getComputedAttr",mode:0},{name:"getComputedStyle",mode:0},{name:"getComponent",mode:0}]}],"modules")};var jt=function(){this.hash={}};jt.prototype.setNode=function(t,e){this.hash[t]={node:e,inst:null}},jt.prototype.getNode=function(t){return this.hash[t]?this.hash[t].node:void 0},jt.prototype.delNode=function(t){delete this.hash[t]},jt.prototype.getInst=function(t){return this.hash[t]?this.hash[t].inst:void 0},jt.prototype.setInst=function(t,e){this.hash[t].inst=e},jt.prototype.getInstByNode=function(t){return this.getInst(t.getAttribute("ref-id"))},Et.prototype.refImpl=new jt,Tt=Et,global.JsBridge=global.ModuleManager={invoke:function(t,e,o,n){if(xt[t]&&xt[t][e]){return xt[t][e](JSON.parse(o),n)||!0}throw new Error("ERROR: Unknown moduleName:"+t+", methodName:"+e)}};var Vt,Rt=["a","span","textarea","text"],Ft=function(t){return t&&global.appImpl.refImpl.getInstByNode(t)},Ht={scroll:[],refresh:[],inviewstatus:[]},Pt=function(t,e){for(var o=Ht[t],n=o.length,a=0;a<n;a++){var i=o[a];if(i.node===e)return i}return null};window.addEventListener("scroll",function(t){w(t.target);var e=Pt(t.type,t.target),o=e&&(e.inst||Ft(e.node));o&&o.trigger("scroll",t);for(var n=Ht.inviewstatus.length,a=0;a<n;a++){var i=Ht.inviewstatus[a].node,r=!!i.getAttribute("isinview"),s=O(i);r!==s&&(s?(i.setAttribute("isinview",!0),Ft(i).trigger("appear",{})):(i.removeAttribute("isinview"),Ft(i).trigger("disappear",{})))}},!0);var Bt={},Jt=function(t){var e=t.changedTouches[0];if("touchstart"===t.type)Bt.startClientY=e.clientY;else if("touchmove"===t.type)Bt.moveClientY=e.clientY;else if("touchend"===t.type&&(Bt.endClientY=e.clientY,Bt.endClientY-Bt.startClientY>100)){var o=Pt("refresh",t.target);o&&Ft(o.node)&&(Ft(o.node).trigger("refresh",{refreshing:!0}),delete Bt.startClientY,delete Bt.moveClientY,delete Bt.endClientY)}};window.addEventListener("touchstart",Jt),window.addEventListener("touchmove",Jt),window.addEventListener("touchend",Jt);var Wt=100,Mt=function(t,e,o){this.el=t,this.vnodeData=e,this.parentNode=o,this.compName=t.getAttribute("comp-name"),this.refId=t.getAttribute("ref-id"),this.vnodeData.attr=this.vnodeData.attr||{},this.vnodeData.style=this.vnodeData.style||{},global.appImpl.refImpl.setInst(this.refId,this),this._listenerList=[]};Mt.prototype.trigger=function(t,e){console.debug("DEBUG: trigger event:"+t,e);var o=this;(this.vnodeData.event||[]).forEach(function(n){n===t&&global.processCallbacks(global.appImpl.getPageId(),[{action:1,args:[o.refId,t,e]}])})},Mt.prototype.init=function(){var t=this;for(var e in t.vnodeData.style){var o=e,n=t.vnodeData.style[e];t.el.style[o]=C(n,o,t.el);var a=M(["update",o].join("-"));t[a]&&t[a](n);var i=M(["update","style",o].join("-"));t[i]&&t[i](n)}this.el.style.position&&""===this.el.style.width&&(this.el.style.width="100%")},Mt.prototype.update=function(t,e,o){for(var n=this,a=b(this.vnodeData,e),i=a.attr||[],r=0;r<i.length;r++){var s=i[r],c=M(["update",s.key].join("-"));n[c]&&n[c](s.new);var l=M(["update","attr",s.key].join("-"));n[l]&&n[l](s.new)}for(var h=a.style||[],p=0;p<h.length;p++){var u=h[p],f=u.key,m=u.new;t.style[f]=C(m,f,t);var g=M(["update",f].join("-"));n[g]&&n[g](m);var y=M(["update","style",f].join("-"));n[y]&&n[y](m)}d(this.vnodeData,e)},Mt.prototype.updateStyleTextAlign=function(t){switch(t){case"left":this.el.style.justifyContent="flex-start";break;case"center":this.el.style.justifyContent="center";break;case"right":this.el.style.justifyContent="flex-end"}},Mt.prototype.addListener=function(t,e,o){if(!Pt(t,e)){var n={type:t,node:e,inst:o};Ht[t].push(n),this._listenerList.push(n)}},Mt.prototype.destroy=function(){this._listenerList.forEach(function(t){var e=Ht[t.type].indexOf(t.node);-1!==e&&Ht[t.type].splice(e,1)}),this._listenerList=[]},Mt.prototype.insertClassList=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return y.apply(void 0,t)},Mt.prototype.applyVnodeDataAttr=function(t,e){!1===t.attr.show?e.style.display="none":!0===t.attr.show&&e.style.removeProperty("display");var o=e.getAttribute("comp-name");for(var n in t.attr)"value"===n&&-1!==Rt.indexOf(o)||"a"===o&&"href"===n||e.setAttribute(n,t.attr[n])},Mt.prototype.applyVnodeDataEvent=function(t,e){var o=this;for(var n in t.event)!function(n){var a=t.event[n];(!e||-1===e.indexOf(a))&&(-1!==["appear","disappear"].indexOf(a)?o.addListener("inviewstatus",o.el):o.el.addEventListener(a,function(){global.processCallbacks(global.appImpl.getPageId(),[{action:1,args:[t.ref,a]}])},!1))}(n)},Mt.prototype._generateInteralRef=function(){return-++Wt},Mt.prototype.toBoolean=function(t,e){return D(t,e)},Mt.prototype.toNumber=function(t,e){var o;return/.*px$/.test(t)&&(o=+t.replace(/px/,"")),isNaN(o)?e:o},Mt.prototype.getVNodeData=function(){return this.vnodeData},Vt=Mt;var zt=Vt,Ut=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.updateAttrValue(this.vnodeData.attr.value)},e.prototype.updateAttrValue=function(t){void 0!==t&&null!==t||(t=""),this.el.innerText=t},e.prototype.updateLines=function(t){t>0?(this.el.setAttribute("lines",""),this.el.style.webkitLineClamp="2"):(this.el.removeAttribute("lines"),this.el.style.removeProperty("webkitLineClamp"))},e}(zt),Yt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.vnodeData.attr.resizeMode=this.vnodeData.attr.resizeMode||"cover";var t=document.createElement("img");t.setAttribute("src",this.vnodeData.attr.src),this.el.appendChild(t),t.onload=function(t){var e=t.currentTarget,o=e.parentNode,n=this.vnodeData.attr.resizeMode,a=e.naturalWidth,i=e.naturalHeight,r=a/i,s=global.getComputedStyle(o),l=+s.width.replace("px",""),d=+s.height.replace("px",""),h=l/d;if(console.curry("h5.components").debug("load: ",o.clientWidth+":"+o.clientHeight,e.naturalWidth+":"+e.naturalHeight,e),"cover"!==n&&"contain"!==n&&"stretch"!==n&&"center"!==n)throw new Error("Unknown support image resize-mode: "+n);if("center"===n&&(e.style.height=c(e.naturalHeight),e.style.width=c(e.naturalWidth)),o.style.width&&o.style.height)"cover"===n?h>=r?e.style.height=this.adaptedPx2rem(l/r):e.style.width=this.adaptedPx2rem(d*r):"contain"===n&&(h>=r?(e.style.height="100%",e.style.width=this.adaptedPx2rem(d*r)):(e.style.width="100%",e.style.height=this.adaptedPx2rem(l/r)));else if(o.style.width&&!o.style.height){var p=this.getUnit(o.style.width);o.style.height="%"===p?this.adaptedPx2rem(l/r):o.style.width.replace("rem","")/r+"rem"}else if(!o.style.width&&o.style.height){var u=this.getUnit(o.style.height);o.style.width="%"===u?this.adaptedPx2rem(d*r):o.style.height.replace("rem","")*r+"rem"}else e.style.height=c(e.naturalHeight),e.style.width=c(e.naturalWidth)}.bind(this)},e.prototype.adaptedPx2rem=function(t){return t/(window.screen.width/10)+"rem"},e.prototype.getUnit=function(t){return t.endsWith("%")?"%":"rem"},e
}(zt),qt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.vnodeData.attr.type=this.vnodeData.attr.type||"horizontal";var t=this.vnodeData.style.color||this.vnodeData.attr.color||"#33b4ff";if(this.vnodeData.style.color=this.vnodeData.attr.color=t,"horizontal"===this.vnodeData.attr.type){var e=this.vnodeData.style.strokeWidth||this.vnodeData.attr.strokeWidth||32;this.vnodeData.style.strokeWidth=this.vnodeData.attr.strokeWidth=e;var o=document.createElement("div"),n=document.createElement("span");o.appendChild(n),this.el.appendChild(o),this.vnodeData.attr.percent=this.vnodeData.attr.percent||0,this.updateAttrPercent(this.vnodeData.attr.percent)}else{var a=document.createElement("img");a.setAttribute("src","/tools/progress_spinner.svg"),this.el.appendChild(a)}},e.prototype.updateAttrPercent=function(t){"horizontal"===this.vnodeData.attr.type&&(this.el.children[0].children[0].style.width=t+"%")},e.prototype.updateStrokeWidth=function(t){"horizontal"===this.vnodeData.attr.type&&(this.el.children[0].children[0].style.height=c((""+t).replace("px","")))},e.prototype.updateColor=function(t){"horizontal"===this.vnodeData.attr.type&&(t?this.el.children[0].children[0].style.backgroundColor=n(t):this.el.children[0].children[0].style.removeProperty("backgroundColor"))},e}(zt),Xt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.vnodeData.attr.scrollpage=this.toBoolean(this.vnodeData.attr.scrollpage,!1),this.updateAttrScrollpage(this.vnodeData.attr.scrollpage)},e.prototype.updateAttrScrollpage=function(t){this.toBoolean(t)?(this.el.style.removeProperty("overflow"),this.parentNode.style.overflow="auto",this.addListener("scroll",this.parentNode,this)):(this.el.style.overflow="auto",this.parentNode.style.removeProperty("overflow"),this.addListener("scroll",this.el,this))},e.prototype.updateColumns=function(t){this.insertClassList(this.refId," > *","flex-basis: "+(t?100/t+"%":""))},e.prototype.scrollTo=function(e){var o,n;this.vnodeData.attr.scrollpage?(o=this.parentNode.scrollHeight-this.parentNode.clientHeight,n=this.parentNode.scrollTop=this._getScrollHeight(e.index,this.parentNode)):(o=this.el.scrollHeight-this.el.clientHeight,n=this.el.scrollTop=this._getScrollHeight(e.index,this.el)),0===n?t.prototype.trigger.call(this,"scrolltop"):n>o&&t.prototype.trigger.call(this,"scrollbottom")},e.prototype.trigger=function(e,o){var n=o.target;t.prototype.trigger.call(this,"scroll",{scrollX:0,scrollY:n.scrollTop}),0===n.scrollTop?t.prototype.trigger.call(this,"scrolltop"):n.scrollTop+10>=n.scrollHeight-n.clientHeight&&t.prototype.trigger.call(this,"scrollbottom")},e.prototype._getScrollHeight=function(t,e){var o=0;if(e.children[t])for(var n=e.children[t],a=0;a<t;a++){var i=e.children[a-1]||{},r=e.children[a];r.offsetTop!==i.offsetTop&&r.offsetTop!==n.offsetTop&&(o+=r.clientHeight)}return o},e}(zt),Gt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){},e}(zt),$t=function(t){function e(e,o,n){t.call(this,e,o,n),this.headNode=null,this.bodyNode=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.vnodeData.attr.index=this.vnodeData.attr.index||0},e.prototype.setHeadInstance=function(t){this.headNode=t.el,this.addEventHandler(),global.setTimeout(function(){this.selectTabIndex(this.vnodeData.attr.index)}.bind(this),0)},e.prototype.setBodyInstance=function(t){this.bodyNode=t.el},e.prototype.updateAttrIndex=function(t){this.selectTabIndex(t)},e.prototype.selectTabIndex=function(t){if(!this.headNode.children[t])return void console.warn("[WARN] 您选择了不存在的Tab页签索引: "+t);if(!this.bodyNode)return void console.warn("[WARN] 当前Tab的bodyNode节点不存在");if(!this.bodyNode.children[t].style.display){Array.prototype.forEach.call(this.headNode.children,function(t){t.removeAttribute("active")}),this.headNode.children[t].setAttribute("active","");var e=this.bodyNode.children;Array.prototype.forEach.call(e,function(t){t.style.removeProperty("display")}),e[t].style.display="inherit",this.trigger("change",{index:t})}},e.prototype.addEventHandler=function(){this.headNode.addEventListener("click",function(t){var e=t.target,o=I(e,'[comp-name="tab-bar"] > *'),n=Array.prototype.indexOf.call(this.headNode.children,o);this.selectTabIndex(n)}.bind(this),!1)},e}(zt),Zt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.vnodeData.attr.mode=this.vnodeData.attr.mode||"fixed",global.appImpl.refImpl.getInst(this.parentNode.getAttribute("ref-id")).setHeadInstance(this)},e}(zt),Qt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){global.appImpl.refImpl.getInst(this.parentNode.getAttribute("ref-id")).setBodyInstance(this)},e}(zt),Kt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.vnodeData.attr.offset=this.toNumber(this.vnodeData.attr.offset,132),this.vnodeData.attr.refreshing=this.toBoolean(this.vnodeData.attr.refreshing,!1),this.progressInstance=this._generateInteralRef(),this.addListener("refresh",this.el,this);var t=this.vnodeData.attr.refreshing;T("createBody",{ref:this.progressInstance,type:"progress",attr:{type:"circular",refreshing:t},style:t?{top:this.vnodeData.attr.offset+"px"}:{top:-this.vnodeData.attr.offset+"px"}})},e.prototype.updateAttrRefreshing=function(t){var e=_(t);T("updateStyle",this.progressInstance,{style:e?{top:this.vnodeData.attr.offset+"px"}:{top:-this.vnodeData.attr.offset+"px"},attr:{refreshing:e}})},e}(zt),te=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){},e}(zt),ee=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.vnodeData.attr.index=this.vnodeData.attr.index||0,this.vnodeData.attr.autoplay=this.toBoolean(this.vnodeData.attr.autoplay,!1),this.vnodeData.attr.interval=this.vnodeData.attr.interval||3e3,this.vnodeData.attr.indicator=this.toBoolean(this.vnodeData.attr.indicator,!0),this.vnodeData.attr.duration=this.vnodeData.attr.duration||1e3,this.vnodeData.style.indicatorColor=this.vnodeData.style.indicatorColor||"#a0a0a0",this.vnodeData.style.indicatorSelectedColor=this.vnodeData.style.indicatorSelectedColor||"#33b4ff",this.vnodeData.style.indicatorSize=this.vnodeData.style.indicatorSize||"20px",this.prevTimeout=0;var t=global.document.createElement("ui");t.className="swiper-dot-list",this.el.appendChild(t),this.updateAttrIndicator(this.vnodeData.attr.indicator),this.updateStyleIndicatorColor(this.vnodeData.style.indicatorColor),this.updateStyleIndicatorSelectedColor(this.vnodeData.style.indicatorSelectedColor),this.updateStyleIndicatorSize(this.vnodeData.style.indicatorSize);var e=null;this.el.addEventListener("touchstart",function(t){e=t.changedTouches[0].pageX}),this.el.addEventListener("touchend",function(t){var o=t.changedTouches[0].pageX,n=o-e<0;this.selectItem(n?this.vnodeData.attr.index+1:this.vnodeData.attr.index-1)}.bind(this)),global.setTimeout(function(){this.selectItem(this.vnodeData.attr.index)}.bind(this),0)},e.prototype.swipeTo=function(t){this.selectItem(t.index)},e.prototype.updateAttrIndex=function(t){var e=Array.prototype.slice.call(this.el.children,1);this.selectItem(t%e.length)},e.prototype.updateAttrAutoplay=function(t){t?(this.vnodeData.attr.autoplay=t,this.updateAttrIndex(t+1)):global.clearTimeout(this.prevTimeout)},e.prototype.updateAttrIndicator=function(t){this._getDotParentNode().style.display=t?"":"none"},e.prototype.updateStyleIndicatorColor=function(t){this.insertClassList(this.refId," > .swiper-dot-list li","background-color: "+(t||""))},e.prototype.updateStyleIndicatorSize=function(t){var e=c(t,"width");this.insertClassList(this.refId," > .swiper-dot-list > li",["width: "+(e||""),"height: "+(e||"")])},e.prototype.updateStyleIndicatorSelectedColor=function(t){this.insertClassList(this.refId," > .swiper-dot-list li.swiper-dot-active","background-color: "+(t||""))},e.prototype.selectItem=function(t){var e=this;this._modeDotParentNodeToFirst();var o=Array.prototype.slice.call(this.el.children,1),n=this._getIndexInList(t);if(o[n]){for(var a=this.el.getBoundingClientRect().width,i=o.length,r=0;r<i;r++){var s=o[r];s.style.transform="translate(-"+a*n+"px)",s.style.transitionDuration=e.vnodeData.attr.duration+"ms",r===n?s.setAttribute("swiper-active",!0):s.removeAttribute("swiper-active")}this._updateDotList(n),this.vnodeData.attr.index=n,this.trigger("change",{index:n})}this.vnodeData.attr.autoplay&&(global.clearTimeout(this.prevTimeout),this.prevTimeout=global.setTimeout(function(){var t=this._getIndexInList(n+1);this.selectItem(t)}.bind(this),this.vnodeData.attr.interval))},e.prototype._getIndexInList=function(t){var e=Array.prototype.slice.call(this.el.children,1);return(t+e.length)%e.length},e.prototype._getDotParentNode=function(){return this.el.querySelector(".swiper-dot-list")},e.prototype._updateDotList=function(t){var e=this._getDotParentNode();if(e.children.length!==this.el.children.length-1)for(var o=e.children.length-(this.el.children.length-1);0!==o;)o<0?(e.appendChild(global.document.createElement("li")),o++):(e.removeChild(e.children[0]),o--);for(var n=e.children,a=n.length,i=0;i<a;i++){var r=n[i];r.className=i===t?"swiper-dot-active":""}},e.prototype._modeDotParentNodeToFirst=function(){0!==Array.prototype.indexOf.call(this.el.children,this._getDotParentNode())&&this.el.insertBefore(this._getDotParentNode(),this.el.children[0])},e}(zt),oe=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.updateAttrPlaceholder=function(t){var e="input"===this.compName?this.el.children[0]:this.el;void 0!==t?e.setAttribute("placeholder",t):e.removeAttribute("placeholder")},e.prototype.applyVnodeDataEvent=function(e){t.prototype.applyVnodeDataEvent.call(this,e,["change"])},e.prototype.focus=function(t){var e="input"===this.compName?this.el.children[0]:this.el;t&&!1===t.focus?e.blur():["checkbox","radio"].indexOf(e.type)>-1?e.checked=!0:e.focus()},e}(zt),ne=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.vnodeData.attr.type=this.vnodeData.attr.type||"text",this.vnodeData.attr.value=this.vnodeData.attr.value||"";var t=this.vnodeData.style.placeholderColor||this.vnodeData.attr.placeholderColor||"rgba(0, 0, 0, 0.38)";this.vnodeData.style.placeholderColor=this.vnodeData.attr.placeholderColor=t,this.ownValue=-1===e.ownValueTypeList.indexOf(this.vnodeData.attr.type);var o=document.createElement("input");if(o.setAttribute("type",this.vnodeData.attr.type),this.el.appendChild(o),this.ownValue)this.updateAttrPlaceholder(this.vnodeData.attr.placeholder),this.el.children[0].addEventListener("input",function(t){this.trigger("change",{text:t.target.value})}.bind(this));else{var n=document.createElement("span");this.el.appendChild(n),this.el.children[0].addEventListener("change",function(t){this.trigger("change",{text:t.target.value})}.bind(this))}this.updateAttrName(this.vnodeData.attr.name),this.updateAttrValue(this.vnodeData.attr.value)},e.prototype.updateAttrType=function(t){this.el.children[0].setAttribute("type",t)},e.prototype.updateAttrName=function(t){this.el.children[0].setAttribute("name",t)},e.prototype.updateAttrValue=function(t){var e=void 0!==t?t:"";this.ownValue?this.el.children[0].setAttribute("value",e):this.el.children[1].innerText=e},e.prototype.updateAttrChecked=function(t){this.ownValue||(this.el.children[0].checked=!!t)},e.prototype.updatePlaceholderColor=function(t){this.insertClassList(this.refId," ::-webkit-input-placeholder","color: "+(t||""))},e.prototype.updateBorderRadius=function(t){if("button"===this.vnodeData.attr.type){var e="borderRadius";t?this.el.children[0].style[e]=C(t,e):this.el.children[0].removeProperty(U(e))}},e}(oe);ne.ownValueTypeList=["checkbox","radio"];var ae,ie=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.vnodeData.attr.min=+this.vnodeData.attr.min||0,this.vnodeData.attr.max=+this.vnodeData.attr.max||100,this.vnodeData.attr.step=+this.vnodeData.attr.step||1,this.vnodeData.attr.value=+this.vnodeData.attr.value||0;var t=this.vnodeData.attr.value;this.vnodeData.attr.value<this.vnodeData.attr.min&&(this.vnodeData.attr.value=this.vnodeData.attr.min),this.vnodeData.attr.value>this.vnodeData.attr.max&&(this.vnodeData.attr.value=this.vnodeData.attr.max),this.vnodeData.attr.value=this._getStepValue(this.vnodeData.attr.value);var e=document.createElement("div"),o=document.createElement("span"),n=document.createElement("div");e.appendChild(o),e.appendChild(n),this.el.appendChild(e),this.updateSelectedColor(this.vnodeData.attr.selectedColor),this.updateColor(this.vnodeData.attr.color),this.updateAttrValue(this.vnodeData.attr.value,this.vnodeData.attr.value!==t),this.el.children[0].children[1].addEventListener("touchmove",function(t){var e=t.targetTouches[0].target.previousSibling,o=t.targetTouches[0].pageX-e.getBoundingClientRect().left,n=this.el.children[0].clientWidth,a=Math.round(o*(this.vnodeData.attr.max-this.vnodeData.attr.min)/n);a+=this.vnodeData.attr.min,a<this.vnodeData.attr.min&&(a=this.vnodeData.attr.min),a>this.vnodeData.attr.max&&(a=this.vnodeData.attr.max),this.vnodeData.attr.value=this._getStepValue(a),this.updateAttrValue(this.vnodeData.attr.value)}.bind(this))},e.prototype.updateSelectedColor=function(t){t?this.el.children[0].children[0].style.backgroundColor=n(t):this.el.children[0].children[0].style.removeProperty("backgroundColor")},e.prototype.updateColor=function(t){t?this.el.children[0].style.backgroundColor=n(t):this.el.children[0].style.removeProperty("backgroundColor")},e.prototype.updateAttrValue=function(t,e){var o=(t-this.vnodeData.attr.min)/(this.vnodeData.attr.max-this.vnodeData.attr.min);this.el.children[0].children[0].style.width=100*o+"%",!1!==e&&this.trigger("change",{progress:t})},e.prototype._getStepValue=function(t){var e=this.vnodeData.attr.step;return Math.round(t/e)*e},e}(zt),re=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.vnodeData.attr.value=this.vnodeData.attr.value||"";var t=this.vnodeData.style.placeholderColor||this.vnodeData.attr.placeholderColor||"rgba(0, 0, 0, 0.38)";this.vnodeData.style.placeholderColor=this.vnodeData.attr.placeholderColor=t,this.updateAttrValue(this.vnodeData.attr.value),this.updateAttrPlaceholder(this.vnodeData.attr.placeholder),this.el.addEventListener("input",function(t){this.trigger("change",{text:t.target.value})}.bind(this))},e.prototype.updateAttrValue=function(t){this.el.innerText=t},e.prototype.updatePlaceholderColor=function(t){this.insertClassList(this.refId,"::-webkit-input-placeholder","color: "+(t||""))},e}(oe),se=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){},e}(zt),ce=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.vnodeData.attr.checked=_(this.vnodeData.attr.checked);var t=document.createElement("div"),e=document.createElement("div");t.appendChild(e),this.el.appendChild(t),this.updateAttrChecked(this.vnodeData.attr.checked),this.el.addEventListener("touchstart",function(t){this.vnodeData.attr.checked=!this.vnodeData.attr.checked,this.updateAttrChecked(this.vnodeData.attr.checked),this.trigger("change",{checked:this.vnodeData.attr.checked})}.bind(this))},e.prototype.updateAttrChecked=function(t){var e=_(t);this.el.children[0].setAttribute("checked",e)},e}(zt),le=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){},e}(zt),de=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){t.prototype.create.call(this),this.el.addEventListener("click",function(t){Z.push({uri:this.vnodeData.attr.href})}.bind(this),!1)},e}(Ut),he=function(){};he.show=function(t){var e=global.document.querySelector("body > div.hybrid-overlay");e||(e=global.document.createElement("div"),e.className="hybrid-overlay",global.document.body.appendChild(e),e.addEventListener("click",function(t){ae.listenerList.forEach(function(e){e._acceptOverlayEvent&&e._acceptOverlayEvent(t)}),t.stopPropagation()})),t&&t.listener&&-1===ae.listenerList.indexOf(t.listener)&&ae.listenerList.push(t.listener),e.style.display=""},he.hide=function(t){var e=global.document.querySelector("body > div.hybrid-overlay");if(e){var o=t&&t.listener?ae.listenerList.indexOf(t.listener):-1;-1!==o&&ae.listenerList.splice(o,1),e.style.display="none"}},he.listenerList=[],ae=he;var pe,ue=ae,fe=function(t){this.options=t};fe.prototype.show=function(){if(ue.show({listener:this}),!this.node){this.node=global.document.createElement("div"),this.node.className="hybrid-actionsheet hide",global.document.body.appendChild(this.node);var t=global.document.createElement("div");t.className="actions",this.node.appendChild(t),this.btnCancel=global.document.createElement("input"),this.btnCancel.setAttribute("type","button"),this.btnCancel.setAttribute("value","取消"),this.btnCancel.className="cancel",this.btnCancel.addEventListener("click",function(){this.handleCancel&&this.handleCancel()}.bind(this)),t.append(this.btnCancel),this.btnSubmit=global.document.createElement("input"),this.btnSubmit.setAttribute("type","button"),this.btnSubmit.setAttribute("value","确定"),this.btnSubmit.className="submit",this.btnSubmit.addEventListener("click",function(){this.handleSubmit&&this.handleSubmit()}.bind(this)),t.append(this.btnSubmit),this.containerNode=global.document.createElement("div"),this.containerNode.className="container",this.node.appendChild(this.containerNode)}global.setTimeout(function(){this.node.className=this.node.className.replace("hide","")}.bind(this),0)},fe.prototype.hide=function(){ue.hide({listener:this}),this.node&&(this.node.className+=" hide",this.node.parentNode.removeChild(this.node))},fe.prototype._acceptOverlayEvent=function(t){"click"===t.type&&this.hide()},fe.prototype.handleCancel=function(){this.hide()},pe=fe;var me=pe,ge=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._createListNode=function(t,e){var o=global.document.createElement("ul");return t.forEach(function(t){var e=global.document.createElement("li");e.innerText=t,o.appendChild(e)}),o.addEventListener("touchstart",function(t){o.stopScrollCalculate=!1}),o.addEventListener("scroll",function(t){o.stopScrollCalculate||(o.scrollTimeout&&global.clearTimeout(o.scrollTimeout),o.scrollTimeout=global.setTimeout(function(){console.log("scrollend event"),this._scrollToItem(o)}.bind(this),50),console.log("scroll event",o.scrollTimeout)),t.stopPropagation()}.bind(this)),e&&(o.scrollListener=e),o},e.prototype._scrollToItem=function(t){var e=t.scrollTop,o=t.children[0].getBoundingClientRect().height,n=Math.round(e/o);if(this._selectItem(t,n),t.scrollListener){(0,t.scrollListener)(t,n)}},e.prototype._selectItem=function(t,e){var o=t.children[0].getBoundingClientRect().height;t.scrollTop=o*e,t.stopScrollCalculate=!0;var n=t.querySelectorAll("li.active");if(n.length>0)for(var a=n.length,i=0;i<a;i++){var r=n[i];r.className=r.className.replace("active","")}t.children[e].className+=" active"},e.prototype._getValidIndex=function(t,e,o){return e>0&&e<t.length?+e:o>0&&o<t.length?+o:0},e}(me),ye=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.show=function(){t.prototype.show.call(this);var e=this._createListNode(this.options.list);this.containerNode.append(e);var o=this._getValidIndex(this.options.list,this.options.selectedIndex,this.options.defaultIndex);this._selectItem(e,o)},e.prototype.hide=function(){t.prototype.hide.call(this),this.containerNode&&(this.containerNode.removeChild(this.containerNode.children[0]),this.options.onClose&&this.options.onClose())},e.prototype.handleSubmit=function(){var t=this.containerNode.children[0],e=Array.prototype.indexOf.call(t.children,t.querySelector("li.active"));-1!==e?(e!==this.options.selectedIndex&&this.options.onSelect&&this.options.onSelect({newValue:this.options.list[e],newSelected:e}),this.hide()):console.warn("[WARN] ListActionsheet当前选择的index无效："+e)},e.parseValue=function(t,e){return{isValid:-1!==e.list.indexOf(t),value:t}},e}(ge),ve=function(t){function e(e){t.call(this,e),this.create()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){},e.prototype.show=function(){t.prototype.show.call(this),this.options.defaultsHash=e.parseValue(this.options.defaultValue),this.options.selectedHash=e.parseValue(this.options.selectedValue);var o=this._createListNode(e.hourList);this.containerNode.append(o);var n=this._createListNode(e.mintList);this.containerNode.append(n);var a=this._getValidIndex(e.hourList,this.options.selectedHash.value[0],this.options.defaultsHash.value[0]);this._selectItem(o,a);var i=this._getValidIndex(e.mintList,this.options.selectedHash.value[1],this.options.defaultsHash.value[1]);this._selectItem(n,i)},e.prototype.hide=function(){t.prototype.hide.call(this),this.containerNode&&(this.containerNode.removeChild(this.containerNode.children[1]),this.containerNode.removeChild(this.containerNode.children[0]),this.options.onClose&&this.options.onClose())},e.prototype.handleSubmit=function(){var t=this.containerNode.children[0],o=Array.prototype.indexOf.call(t.children,t.querySelector("li.active")),n=this.containerNode.children[1],a=Array.prototype.indexOf.call(n.children,n.querySelector("li.active"));if(-1!==o&&-1!==a){e.hourList[o]+":"+e.mintList[a]!==this.options.selectedValue&&this.options.onSelect&&this.options.onSelect({hour:+e.hourList[o],minute:+e.mintList[a]}),this.hide()}else console.warn("[WARN] TimeActionsheet当前选择的index无效："+o+":"+a)},e.parseValue=function(t,o){var n=(t||"").split(":");if(n[0]=n[0]<10?"0"+ +n[0]:""+n[0],n[1]=n[1]<10?"0"+ +n[1]:""+n[1],-1===e.hourList.indexOf(n[0])||-1===e.mintList.indexOf(n[1])){var a=(new Date).getHours(),i=(new Date).getMinutes();return{isValid:!1,value:[a<10?"0"+a:""+a,i<10?"0"+i:""+i]}}return{isValid:!0,value:n}},e.prototype._getValidIndex=function(e,o,n){return t.prototype._getValidIndex.call(this,e,e.indexOf(o),e.indexOf(n))},e}(ge);ve.hourList=N(24,function(t,e){return e<10?"0"+e:""+e}),ve.mintList=N(60,function(t,e){return e<10?"0"+e:""+e});var be,Ie=function(t){function o(e){t.call(this,e),this.create()}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.create=function(){this._startDate=o._parseStartDate(this.options),this._finalDate=o._parseFinalDate(this.options);var t=o._date2String(this._startDate).split("-"),e=o._date2String(this._finalDate).split("-");this._yearList=N(e[0]-t[0]+1,function(e,o){return o+ +t[0]+""}),this._mnthList=N(12,function(t,e){return++e<10?"0"+e:""+e}),this._dateList=N(31,function(t,e){return++e<10?"0"+e:""+e})},o.prototype.show=function(){t.prototype.show.call(this),this._defaultsHash=o.parseValue(this.options.defaultsValue,this.options),this._selectedHash=o.parseValue(this.options.selectedValue,this.options);var e=this._createListNode(this._yearList,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];(o=this)._scrollListener.apply(o,[0].concat(t));var o}.bind(this));this.containerNode.append(e);var n=this._createListNode(this._mnthList,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];(o=this)._scrollListener.apply(o,[1].concat(t));var o}.bind(this));this.containerNode.append(n);var a=this._createListNode(this._dateList,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];(o=this)._scrollListener.apply(o,[2].concat(t));var o}.bind(this));this.containerNode.append(a);var i=this._getValidIndex(this._yearList,this._selectedHash.value[0],this._defaultsHash.value[0]);this._selectItem(e,i);var r=this._getValidIndex(this._mnthList,this._selectedHash.value[1],this._defaultsHash.value[1]);this._selectItem(n,r);var s=this._getValidIndex(this._dateList,this._selectedHash.value[2],this._defaultsHash.value[2]);this._selectItem(a,s)},o.prototype.hide=function(){t.prototype.hide.call(this),this.containerNode&&(this.containerNode.removeChild(this.containerNode.children[2]),this.containerNode.removeChild(this.containerNode.children[1]),this.containerNode.removeChild(this.containerNode.children[0]),this.options.onClose&&this.options.onClose())},o.prototype._scrollListener=function(t,e,n){if(0===t||1===t){var a=this._getSelectedDate(),i=o._getDateObject(a);a!==o._date2String(i)&&this._selectItem(this.containerNode.children[2],0)}},o.prototype.handleSubmit=function(){var t=this._getIndexOfListNode(0),e=this._getIndexOfListNode(1),o=this._getIndexOfListNode(2);if(-1!==t&&-1!==e&&-1!==o){this._yearList[t]+"-"+this._mnthList[e]+"-"+this._dateList[o]!==this.options.selectedValue&&this.options.onSelect&&this.options.onSelect({year:+this._yearList[t],month:+this._mnthList[e],day:+this._dateList[o]}),this.hide()}else console.warn("[WARN] DateActionsheet当前选择的index无效："+t+":"+e+":"+o)},o.prototype._getSelectedDate=function(){var t=this._getIndexOfListNode(0),e=this._getIndexOfListNode(1),o=this._getIndexOfListNode(2);return this._yearList[t]+"-"+this._mnthList[e]+"-"+this._dateList[o]},o.prototype._getIndexOfListNode=function(t){var e=this.containerNode.children[t];return Array.prototype.indexOf.call(e.children,e.querySelector("li.active"))},o.prototype._getValidIndex=function(e,o,n){return t.prototype._getValidIndex.call(this,e,e.indexOf(o),e.indexOf(n))},o._getDateObject=function(t){var o;return t instanceof Date?o=t:e(t)&&(o=new Date(t)),o},o._date2String=function(t){var e=t.getMonth()+1,o=t.getDate();return t.getFullYear()+"-"+(e<10?"0"+e:e)+"-"+(o<10?"0"+o:o)},o._parseStartDate=function(t){var e=o._getDateObject(t.dateStart);return(!e||isNaN(e.getTime())||e.getTime()<o._getDateObject("1970-01-01").getTime())&&(e=o._getDateObject("1970-01-01")),e},o._parseFinalDate=function(t){var e=o._getDateObject(t.dateFinal);return(!e||isNaN(e.getTime())||e.getTime()>o._getDateObject("2100-12-31").getTime())&&(e=o._getDateObject("2100-12-31")),e},o.parseValue=function(t,e){var n=o._getDateObject(t),a=o._parseStartDate(e),i=o._parseFinalDate(e);return!n||isNaN(n.getTime())||n.getTime()<a.getTime()||n.getTime()>i.getTime()?{isValid:!1,value:o._date2String(a).split("-")}:{isValid:!0,value:o._date2String(n).split("-")}},o}(ge),_e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.updateAttrType(this.vnodeData.attr.type),this.updateAttrValue(this.vnodeData.attr.value),this.el.addEventListener("click",function(t){this.show()}.bind(this))},e.prototype._getActionsheetOptions=function(){return"text"===this.vnodeData.attr.type?{list:this.vnodeData.attr.range,defaultIndex:this.vnodeData.attr.selected,selectedIndex:this.vnodeData.attr.range.indexOf(this.vnodeData.attr.value),onSelect:this._onSelect.bind(this),onClose:this._onClose.bind(this)}:"time"===this.vnodeData.attr.type?{defaultsValue:this.vnodeData.attr.selected,selectedValue:this.vnodeData.attr.value,onSelect:this._onSelect.bind(this),onClose:this._onClose.bind(this)}:"date"===this.vnodeData.attr.type?{dateStart:this.vnodeData.attr.start,dateFinal:this.vnodeData.attr.end,defaultsValue:this.vnodeData.attr.selected,selectedValue:this.vnodeData.attr.value,onSelect:this._onSelect.bind(this),onClose:this._onClose.bind(this)}:void 0},e.prototype._createActionsheet=function(t){if("text"===this.vnodeData.attr.type)this.sheet=new ye(t);else if("time"===this.vnodeData.attr.type)this.sheet=new ve(t);else{if("date"!==this.vnodeData.attr.type)throw new Error("[ERROR] Unknown Picker type: "+this.vnodeData.attr.type+" in [text, time, date]");this.sheet=new Ie(t)}},e.prototype.show=function(){k(this.vnodeData.attr.disabled)||(this._createActionsheet(this._getActionsheetOptions()),this.sheet.show())},e.prototype.updateAttrType=function(t){if("text"===t){E(this.vnodeData.attr.range)&&this.vnodeData.attr.range.length}else if("time"===t);else if("date"!==t)throw new Error("[ERROR] Unknown Picker type: "+t+" in [text, time, date]")},e.prototype.updateAttrValue=function(t){if(void 0===t||null==t)return void(this.el.innerText="");var e;if("text"===this.vnodeData.attr.type)e=ye.parseValue(t,this._getActionsheetOptions());else if("time"===this.vnodeData.attr.type)e=ve.parseValue(t,this._getActionsheetOptions());else{if("date"!==this.vnodeData.attr.type)throw new Error("[ERROR] Unknown Picker type: "+this.vnodeData.attr.type+" in ['text', 'time', 'date']");e=Ie.parseValue(t,this._getActionsheetOptions())}if(!e.isValid)throw new Error("[ERROR] Invalid Picker[type='"+this.vnodeData.attr.type+"'] value: "+t);this.el.innerText=t},e.prototype._onSelect=function(t){"text"===this.vnodeData.attr.type?(this.updateAttrValue(t.newValue),this.vnodeData.attr.value=t.newValue):"time"===this.vnodeData.attr.type?(this.updateAttrValue(t.hour+":"+t.minute),this.vnodeData.attr.value=t.hour+":"+t.minute):"date"===this.vnodeData.attr.type&&(this.updateAttrValue(t.year+"-"+t.month+"-"+t.day),this.vnodeData.attr.value=t.year+"-"+t.month+"-"+t.day),this.trigger("change",t)},e.prototype._onClose=function(){this.sheet=null},e}(zt),ke=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){this.updateAttrValue(this.vnodeData.attr.value),this.el.addEventListener("click",function(t){if(this.vnodeData.attr.target){var e=global.document.querySelector("#"+this.vnodeData.attr.target);if(e){var o=global.appImpl.refImpl.getInstByNode(e);o&&o.focus&&o.focus()}}}.bind(this))},e.prototype.updateAttrValue=function(t){void 0!==t&&null!==t||(t=""),this.el.innerText=t},e}(zt),De=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.create=function(){},e.prototype.reload=function(t){console.info("[info] Web.reload(options): ",JSON.stringify(t))},e.prototype.forward=function(t){console.info("[info] Web.forward(options): ",JSON.stringify(t))},e.prototype.back=function(t){console.info("[info] Web.back(options): ",JSON.stringify(t))},e.prototype.canForward=function(t){console.info("[info] Web.canForward(options): ",JSON.stringify(t));var e=t.callback;global.setTimeout(function(){global.processCallbacks(global.appImpl.getPageId(),[{action:2,args:[e,!0]}])},1e3)},e.prototype.canBack=function(t){
console.info("[info] Web.canBack(options): ",JSON.stringify(t));var e=t.callback;global.setTimeout(function(){global.processCallbacks(global.appImpl.getPageId(),[{action:2,args:[e,!0]}])},1e3)},e}(zt),Ne={Text:Ut,Image:Yt,Progress:qt,List:Xt,ListItem:Gt,Tabs:$t,TabContent:Qt,TabBar:Zt,Refresh:Kt,Stack:te,Swiper:ee,Input:ne,Slider:ie,Textarea:re,Richtext:se,Switch:ce,Div:le,A:de,Picker:_e,Label:ke,Web:De},Oe={text:Ne.Text,span:Ne.Text,a:Ne.A,image:Ne.Image,video:Ne.Image,progress:Ne.Progress,web:Ne.Web,div:Ne.Div,stack:Ne.Stack,swiper:Ne.Swiper,refresh:Ne.Refresh,list:Ne.List,"list-item":Ne.ListItem,tabs:Ne.Tabs,"tab-bar":Ne.TabBar,"tab-content":Ne.TabContent,richtext:Ne.Richtext,input:Ne.Input,slider:Ne.Slider,picker:Ne.Picker,switch:Ne.Switch,textarea:Ne.Textarea,label:Ne.Label},we=function(){};we.prototype.createElement=function(t,e,o){var n=S(t,o),a=document.createElement(n);return a.setAttribute("comp-name",t),a.setAttribute("ref-id",e),global.appImpl.refImpl.setNode(e,a),a},we.prototype.getElementByRefId=function(t){return global.appImpl.refImpl.getNode(t)},we.prototype.renderTree=function(t){var e=this;if(t.children)for(var o=t.children.length,n=0;n<o;n++)e.addElement(t.ref,t.children[n],n)};var Ce=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBody=function(t){var e=this.createElement(t.type,t.ref,t),o=document.body;return x(e,t,o),o.appendChild(e),e},e.prototype.addElement=function(t,e,o){var n=this.createElement(e.type,e.ref,e),a=this.getElementByRefId(t);return x(n,e,a),e.children&&this.renderTree(e),a.children[o]?a.insertBefore(n,a.children[o]):a.appendChild(n),n},e.prototype.updateStyle=function(t,e){var o=this.getElementByRefId(t);return x(o,e,o.parentNode),o},e.prototype.updateAttrs=function(t,e){var o=this.getElementByRefId(t);return x(o,e,o.parentNode),o},e.prototype.moveElement=function(t,e,o){var n=this.getElementByRefId(t),a=this.getElementByRefId(e);n!==a.children[o]&&a.insertBefore(n,a.children[o])},e.prototype.removeElement=function(t){var e=this.getElementByRefId(t);global.appImpl.refImpl.delNode(t),e.parentNode.removeChild(e)},e.prototype.createFinish=function(){global.changeVisiblePage(global.appImpl.getPageId(),!0)},e.prototype.updateFinish=function(){},e.prototype.updateTitleBar=function(t){document.title=t.text},e}(we);be=new Ce,global.setTimeout||(global.setTimeout=function(t,e){var o=global.setInterval(function(){global.clearInterval(o),t()},e)}),function(){function t(){var t=n.getBoundingClientRect().width,e=(s||t)/r;n.style.fontSize=e+"px",t>=414?n.setAttribute("data-fontscale",2):n.setAttribute("data-fontscale",1)}var e=global.window,o=e.document,n=o.documentElement,a=o.querySelector('meta[name="viewport"]'),i=null;a?a.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"):(a=o.createElement("meta"),a.setAttribute("name","viewport"),a.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"),n.firstElementChild&&n.firstElementChild.appendChild(a));var r=10,s=null;e.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(t,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(i),i=setTimeout(t,300))},!1),"complete"===o.readyState?o.body.style.fontSize="0.4rem":o.addEventListener("DOMContentLoaded",function(t){o.body.style.fontSize="0.4rem"},!1),t()}(),global.appImpl=new Tt,global.callNative=function(t,e){e=u(e),e.map(function(t){console.curry("h5.callNative").debug("[DEBUG] callNative: ",JSON.stringify(t)),t.component?(e=global.appImpl.refImpl.getInst(t.ref))[t.method].apply(e,t.args):A(t.method)?T.apply(void 0,[t.method].concat(t.args)):console.error("[ERROR] Unknown method name: callNative('"+t.method+"')");var e})}});
//# sourceMappingURL=browser.min.js.map
