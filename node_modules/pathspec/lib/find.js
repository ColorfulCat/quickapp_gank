// Generated by CoffeeScript 1.3.3
(function() {
  var TreeStream;

  TreeStream = require('./treestream');

  module.exports = function(roots, list, callback) {
    var files, root, stream, _i, _len, _results;
    stream = new TreeStream(list);
    files = [];
    stream.on('file', function(file) {
      return files.push(file);
    });
    stream.on('end', function() {
      files.sort();
      return callback(files);
    });
    if (typeof roots === 'string') {
      return stream.visit(roots);
    } else {
      _results = [];
      for (_i = 0, _len = roots.length; _i < _len; _i++) {
        root = roots[_i];
        _results.push(stream.visit(root));
      }
      return _results;
    }
  };

}).call(this);
